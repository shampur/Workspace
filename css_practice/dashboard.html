<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Html playground</title>
    <link rel="stylesheet" type="text/css" href="mystyle.css">
</head>
<body>
    <div class="container">
        <div class="column width-3">
            <div class="heading">Speed up your website</div>
            a) Combine all the script into one single file and same with the styles sheet and minify both.<br>
            b) Use CSS Sprites.<br>
            c) Use a CDN for delivering your static content, this helps loading the images, sprites, css,
            scripts from a server that is geographically nearest to you. And since those would be served from a
            different hostname they can be downloaded in parallel.
        </div>
        <div class="column width-2">
            <div class="heading">What does a doctype do in html? </div>
            Doctype defines the version and the standard in which the html document is written,
            This is an instruction to the browser. Doctype stands for Document type definition.
        </div>
        <div class="column width-2">
            <div class="heading">Script tag.</div>
            Script tag stops the rendering, downloads the script and executes it.
            Script async does not stop the rendering,
            instead it downloads the script asynchronously and runs it once the download is complete
            Script defer runs the script only after the rendering process is complete.
        </div>
    </div>
    <div class="btn container">

    </div>
    <div id='recurse' class="container">
        <div class="column width-3">
            <div>
                hello
                <div>
                    this is a
                    <p>
                        recursive block
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script type="application/javascript">
        /*
            One way of solving the scope problem is using a closure, other way is to use let instead of var
            let provides a blocked scope instead of function scope like the use of var
            In the above example using let eliminates the necessity of declaring an explicit function scope to
            store the variable i;
         */

        for(var i=0; i<4; i++) {
            let btn = document.createElement("button");
            btn.appendChild(document.createTextNode('button - ' + i));
            let btnContainer = document.getElementsByClassName('btn container')[0];
            (function(i){
                btn.addEventListener('click', function(event) {
                    console.log('You clicked on button' + i);
                });
            })(i);
            btnContainer.appendChild(btn);
        }


        /*
            Recursively print all the nodes in dom
         */
        function recurseRun(elem, callback) {
            if (!elem.hasChildNodes()){
                callback(elem)
            } else {
                console.log("Node = " + elem.nodeName);
                elem.childNodes.forEach((item) => {
                    recurseRun(item, callback);
                });
            }
        }

        let el = document.getElementById('recurse');
        recurseRun(el, (itm) => {
            let content = itm.textContent.trim();
            if(content.length > 0) {
                console.log('Node content= '+ content);
            }
        });

        /*
            Simple Implementation of debouncing.
         */

        let debounce = function(func, wait) {
            var timerId;
            return function() {
                let context = this;
                let args = arguments;
                clearTimeout(timerId);
                timerId = setTimeout(() => {
                    func.apply(context, args);
                }, wait)
            }
        }

        window.addEventListener('resize', debounce(function(event){
            console.log('Event is getting fired!!')
            console.log('window width = ' + window.innerWidth + ',  window height = ' + window.innerHeight);
            console.log('Event target = ' + event.target);
        }, 500))


        let throttle = function(func, wait) {
            var timerId, throttling = false;
            return function() {
                var context = this;
                var args = arguments;
                var 
            }
        }
    </script>
</body>
</html>